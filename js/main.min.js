function crazyPercentsCounters(){$(".count").each(function(){var e,n=$(this).text();e=n<10?1500:n<30?2e3:3e3,$(this).prop("Counter",0).animate({Counter:n},{duration:e,easing:"swing",step:function(e){$(this).text(Math.ceil(e))}})})}function initCounter(){var e=$(".rating"),n=(e.offset().top+30,window.innerHeight||document.documentElement.clientHeight||getElementsByTagName("body")[0].clientHeight);if(e.offset().top<n)crazyPercentsCounters();else{var t=$(".second-screen").offset().top/2;$(window).on("scroll.percents",function(){$(this).scrollTop()>t&&(crazyPercentsCounters(),$(window).off("scroll.percents"))})}}function animatedNotebookImg(){var e=$(".third-screen__bg"),n=$(".third-screen").offset().top-200;n<$(window).scrollTop()?e.animate({right:0},1500,"easeOutCubic"):$(window).on("scroll.Notebook",function(){$(this).scrollTop()>n&&(e.animate({right:0},1500,"easeOutCubic"),$(window).off("scroll.Notebook"))})}function animatedGraphImg(){var e=$(".profit-img"),n=$(".third-screen").offset().top;n<$(window).scrollTop()?e.animate({left:0},1500,"easeOutCubic"):$(window).on("scroll.Graph",function(){$(this).scrollTop()>n&&(e.animate({left:0},1500,"easeOutCubic"),$(window).off("scroll.Graph"))})}function theatre(){var e=theaterJS({locale:"ru"});e.on("type:start, erase:start",function(){e.getCurrentActor().$element.classList.add("waaat--typing")}).on("type:end, erase:end",function(){e.getCurrentActor().$element.classList.remove("waaat--typing")}),e.addActor("waaat",{speed:1,accuracy:1}).addScene("waaat: получи премиум-условия",300,1500).addScene("waaat: заработай доллары",300,1500).addScene("waaat: получи премиум-условия",300,1500).addScene("waaat: друзьям расскажи",300,1500).addScene(e.replay.bind(e))}jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,n,t,a,i){return jQuery.easing[jQuery.easing.def](e,n,t,a,i)},easeInQuad:function(e,n,t,a,i){return a*(n/=i)*n+t},easeOutQuad:function(e,n,t,a,i){return-a*(n/=i)*(n-2)+t},easeInOutQuad:function(e,n,t,a,i){return(n/=i/2)<1?a/2*n*n+t:-a/2*(--n*(n-2)-1)+t},easeInCubic:function(e,n,t,a,i){return a*(n/=i)*n*n+t},easeOutCubic:function(e,n,t,a,i){return a*((n=n/i-1)*n*n+1)+t},easeInOutCubic:function(e,n,t,a,i){return(n/=i/2)<1?a/2*n*n*n+t:a/2*((n-=2)*n*n+2)+t},easeInQuart:function(e,n,t,a,i){return a*(n/=i)*n*n*n+t},easeOutQuart:function(e,n,t,a,i){return-a*((n=n/i-1)*n*n*n-1)+t},easeInOutQuart:function(e,n,t,a,i){return(n/=i/2)<1?a/2*n*n*n*n+t:-a/2*((n-=2)*n*n*n-2)+t},easeInQuint:function(e,n,t,a,i){return a*(n/=i)*n*n*n*n+t},easeOutQuint:function(e,n,t,a,i){return a*((n=n/i-1)*n*n*n*n+1)+t},easeInOutQuint:function(e,n,t,a,i){return(n/=i/2)<1?a/2*n*n*n*n*n+t:a/2*((n-=2)*n*n*n*n+2)+t},easeInSine:function(e,n,t,a,i){return-a*Math.cos(n/i*(Math.PI/2))+a+t},easeOutSine:function(e,n,t,a,i){return a*Math.sin(n/i*(Math.PI/2))+t},easeInOutSine:function(e,n,t,a,i){return-a/2*(Math.cos(Math.PI*n/i)-1)+t},easeInExpo:function(e,n,t,a,i){return 0==n?t:a*Math.pow(2,10*(n/i-1))+t},easeOutExpo:function(e,n,t,a,i){return n==i?t+a:a*(-Math.pow(2,-10*n/i)+1)+t},easeInOutExpo:function(e,n,t,a,i){return 0==n?t:n==i?t+a:(n/=i/2)<1?a/2*Math.pow(2,10*(n-1))+t:a/2*(-Math.pow(2,-10*--n)+2)+t},easeInCirc:function(e,n,t,a,i){return-a*(Math.sqrt(1-(n/=i)*n)-1)+t},easeOutCirc:function(e,n,t,a,i){return a*Math.sqrt(1-(n=n/i-1)*n)+t},easeInOutCirc:function(e,n,t,a,i){return(n/=i/2)<1?-a/2*(Math.sqrt(1-n*n)-1)+t:a/2*(Math.sqrt(1-(n-=2)*n)+1)+t},easeInElastic:function(e,n,t,a,i){var r=1.70158,o=0,s=a;if(0==n)return t;if(1==(n/=i))return t+a;if(o||(o=.3*i),s<Math.abs(a)){s=a;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(a/s);return-(s*Math.pow(2,10*(n-=1))*Math.sin((n*i-r)*(2*Math.PI)/o))+t},easeOutElastic:function(e,n,t,a,i){var r=1.70158,o=0,s=a;if(0==n)return t;if(1==(n/=i))return t+a;if(o||(o=.3*i),s<Math.abs(a)){s=a;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(a/s);return s*Math.pow(2,-10*n)*Math.sin((n*i-r)*(2*Math.PI)/o)+a+t},easeInOutElastic:function(e,n,t,a,i){var r=1.70158,o=0,s=a;if(0==n)return t;if(2==(n/=i/2))return t+a;if(o||(o=i*(.3*1.5)),s<Math.abs(a)){s=a;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(a/s);return n<1?-.5*(s*Math.pow(2,10*(n-=1))*Math.sin((n*i-r)*(2*Math.PI)/o))+t:s*Math.pow(2,-10*(n-=1))*Math.sin((n*i-r)*(2*Math.PI)/o)*.5+a+t},easeInBack:function(e,n,t,a,i,r){return void 0==r&&(r=1.70158),a*(n/=i)*n*((r+1)*n-r)+t},easeOutBack:function(e,n,t,a,i,r){return void 0==r&&(r=1.70158),a*((n=n/i-1)*n*((r+1)*n+r)+1)+t},easeInOutBack:function(e,n,t,a,i,r){return void 0==r&&(r=1.70158),(n/=i/2)<1?a/2*(n*n*(((r*=1.525)+1)*n-r))+t:a/2*((n-=2)*n*(((r*=1.525)+1)*n+r)+2)+t},easeInBounce:function(e,n,t,a,i){return a-jQuery.easing.easeOutBounce(e,i-n,0,a,i)+t},easeOutBounce:function(e,n,t,a,i){return(n/=i)<1/2.75?a*(7.5625*n*n)+t:n<2/2.75?a*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?a*(7.5625*(n-=2.25/2.75)*n+.9375)+t:a*(7.5625*(n-=2.625/2.75)*n+.984375)+t},easeInOutBounce:function(e,n,t,a,i){return n<i/2?.5*jQuery.easing.easeInBounce(e,2*n,0,a,i)+t:.5*jQuery.easing.easeOutBounce(e,2*n-i,0,a,i)+.5*a+t}}),function(){function e(){var e=$(".video-wrapp");if(e.length>0){var n='<video autoplay="autoplay" loop="loop">';n+="<source src=\"video/essaytop_club_video_2.mp4\" type='video/mp4'>",n+="<source src=\"video/essaytop_club_video_2.webm\" type='video/webm'>",n+="</video>",e.append(n)}}function n(e,n){if(1==n){if(0==e.find("btn--preloader").length){var t='<div class="btn--preloader">';t+='<div class="preloader-wrapper active">',t+='<div class="spinner-layer spinner-red-only">',t+='<div class="circle-clipper left">',t+='<div class="circle"></div>',t+='</div><div class="gap-patch">',t+='<div class="circle"></div>',t+='</div><div class="circle-clipper right">',t+='<div class="circle"></div>',t+="</div></div></div></div>",e.addClass("btn--loading"),e.append(t)}}else{var a="<span>"+e.attr("title")+"</span>";e.find(".btn--preloader").remove(),e.html(a),e.removeClass("btn--loading")}}function t(e,n,t,a){a.length>0?a.addClass(t):e.addClass(t),e.text(n)}function a(e,n,t){e.text(""),t.length>0&&(e=t),e.hasClass(n)&&e.removeClass(n)}function i(e){if(e.length>0){var e=e.val(),n=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/;return""==e?"Пожалуйста, сначала введите ваш e-mail":e.length>100?"Слишком большой e-mail":!n.test(e)&&"Введите корректный e-mail"}return!1}function r(e){if(e.length>0){var e=e.val(),n=/^[a-zA-Zа-яА-Я'][a-zA-Zа-яА-Я-' ]+[a-zA-Zа-яА-Я']?$/;return""==e?"Напишите, как вас зовут":e.length<2?"Имя должно быть не короче двух символов":e.length>100?"Имя должно быть не больше 100 сомволов":!n.test(e)&&"Имя должно содержать только буквы"}return!1}function o(e){var n=$(".global-error"),t=n.find(".global-error__text");e?t.text(e):t.text("Что-то пошло не так. Повторите, пожалуйста, попытку."),n.length>0&&(n.fadeIn(200),n.one("click",function(){n.fadeOut(200)}),$("input").one("focus",function(){n.fadeOut(200)}))}function s(e,n){e.find("input").each(function(){$(this).attr("disabled",n)}),e.find("button").attr("disabled",n)}function u(e,n){var r=i(e);r?t(n,r,"form__error--active",!1):a(n,"form__error--active",!1)}function c(e,t,a){var i={action:"mini",email:e};$.ajax({url:"action.php",type:"POST",data:i}).done(function(e){l(e,a)}).fail(function(){o(!1)}).always(function(){s(a,!1),n(t,!1)})}function l(e,n){var e=$.parseJSON(e);"Member Exists"==e.title?o("Вы уже оставляли свой e-mail"):"Invalid Resource"==e.title?o("Ваш e-mail выглядит подозрительно. Пожалуйста, введите настоящий e-mail"):400==e.status?o(!1):(s(n,!1),n.submit())}function f(e){var n=$.trim(e.val()),i=e.parent(".input-field"),r=i.find(".field__error"),o="Слишком коротко",s="Слишком длинно";return""!=n&&(n.length<=2?(t(r,o,b,i),!1):n.length>=100?(t(r,s,b,i),!1):(a(r,b,i),!0))}function d(){var e=!1;switch(!0){case f(C):e=!0;break;case f(I):e=!0;break;case f(M):e=!0}return e?(y.removeClass("messengers--error"),e):(y.addClass("messengers--error"),e)}function p(){var e=r(w);return e?(t(j,e,b,_),!1):(a(j,b,_),!0)}function h(){var e=O.find("select option:disabled").text(),n=O.find("input").val();return n==e?(O.addClass(b),!1):(O.removeClass(b),!0)}function v(e,t){n(t,!0),$.ajax({url:"action.php",type:"POST",data:e}).done(function(){m(t.parent("form"))}).fail(function(){o(!1)}).always(function(){n(t,!1),s(g,!1)})}function m(e){e.submit()}!function(){$(window).on("scroll",function(){$(document).scrollTop()>300?$("#btn-totop").fadeIn(500):$("#btn-totop").fadeOut(500)}),$("#btn-totop").on("click",function(e){$("body,html").animate({scrollTop:0},800)})}(),$(document).ready(function(){e()}),function(){$(".lazy-bg[data-bg]").each(function(){var e=$(this).data("bg");$(this).addClass(e),$(this).removeClass("lazy-bg"),$(this).removeAttr("data-bg")})}(),function(){$(".dropdown-select select").material_select()}(),function(){var e=$(".js-mini-form");b="form__error--active",e.each(function(){var e=$(this).find(".js-email"),t=$(this).find(".js-submit"),r=$(this).find(".js-error--email");e.on("change",function(){u(e,r)}),e.on("input",function(){a(r,"form__error--active",!1)}),t.on("click",function(t){t.preventDefault(),i(e)?u(e,r):(n($(this),!0),s($(this).parent("form"),!0),c(e.val(),$(this),$(this).parent("form")))})})}();var g=$(".js-subscribe__form"),b=($(".subscribe__success"),"error"),w=$(".js-name"),y=$(".messengers"),C=$(".js-skype"),I=$(".js-isq"),M=$(".js-telegram"),O=($(".input-field").find("input"),$(".dropdown-select")),_=w.parent(".input-field"),j=_.find(".js-error--name"),Q=(_.find("label"),O.find("select"));!function(){$(".js-messenger").one("click",function(e){y.addClass("messengers--open"),y.removeClass("messengers--closed"),y.removeClass("error"),y.find(".messengers__list").animate({height:"100%"},2e3),w.one("focus",function(){d()}),$(".select-dropdown").one("focus",function(){d()}),y.find("input").each(function(){$(this).removeAttr("tabindex")})})}(),function(){C.parent(".input-field").find("label"),I.parent(".input-field").find("label"),M.parent(".input-field").find("label");w.on("change",function(){p()}),Q.on("change",function(){h()}),y.find("input").on("change",function(){f($(this))&&y.removeClass("messengers--error")})}(),function(){$(".btn--subscribe").on("click",function(e){var n=!1;if(e.preventDefault(),p()&&d()&&h()&&(n=!0),y.hasClass("messengers--closed")?y.addClass("error"):y.hasClass("messengers--open")&&d(),h(),n)if($(".email-from-landing").length>0){var t=$(".email-from-landing").val(),a={action:"main",email:t,name:w.val(),exp:$(".dropdown-select select").val()};""!==C.val()&&(a.skype=C.val()),""!==M.val()&&(a.telegram=M.val()),""!==I.val()&&(a.icq=I.val()),s(g,!0),v(a,$(this))}else o("Кажется, вы забыли ввести e-mail на главной странице")})}()}(),function(){$(".first-screen").length>0&&(initCounter(),animatedNotebookImg(),animatedGraphImg(),theatre())}();